<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>预约</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/css/bootstrap.min.css">
    <style>
        .container {
            margin-top: 20px;
			width: 80%;
			/* margin-left: 10%; */
        }
        .form-group {
            margin-bottom: 15px;
        }
        .btn-primary {
            width: 100%;
        }
    .dropdown-toggle {
	    width: 100%; /* 设置固定宽度 */  
	    background-color: white; /* 设置背景颜色为白色 */  
	    color: black; /* 设置文本颜色为黑色 */  
		text-align: left;
	}  
	.dropdown-toggle:hover {  
	    background-color: #f8f9fa; /* 悬停时的背景颜色 */  
	}  
    </style>
</head>
<body>
    <div class="container">
        <h5 class="text-center">纸币千年预约通道</h5>
        <form>
            <div class="form-group">
                <label for="name">姓名：</label>
                <input name="xm" type="text" class="form-control xm" id="xm" oninput="validateInputa()">
            </div>
            <div class="form-group">
                <label for="id">身份证号：</label>
				<input name="sfzh" type="text" class="form-control sfzh" id="formGroupExampleInput"  oninput="validateInput(event)" maxlength="18">
            </div>
            <div class="form-group">
                <label for="product">商品名称：</label>
<!-- 				<input name="spmc" type="text" class="form-control spmc" id="formGroupExampleInput"  " value="《爱如珍宝》" readonly>  -->
		    <input name="spmc" type="text" class="form-control spmc" id="formGroupExampleInput"  " value="《纸币千年》" readonly> 
            </div>
            <div class="form-group">
		    <label for="product">商品规格：</label>
                <div class="dropdown">
				    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">  
				        至尊版
				    </button>  
				    <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">  
				        <!-- <li><a class="dropdown-item" onclick="selectOption('2024珍藏版')">2024珍藏版</a></li>  -->
				        <!-- <li><a class="dropdown-item" onclick="selectOption('六年珍藏大全套')">六年珍藏大全套</a></li>  -->
				        <!-- <li><a class="dropdown-item" onclick="selectOption('六年珍藏大全套五箱装')">六年珍藏大全套五箱装</a></li>  -->
						<!-- <li><a class="dropdown-item" onclick="selectOption('六年珍藏大全套十箱装')">六年珍藏大全套十箱装</a></li> -->
						
						<li><a class="dropdown-item" onclick="selectOption('至尊版')">至尊版</a></li>
						<li><a class="dropdown-item" onclick="selectOption('珍藏版')">珍藏版</a></li>
						<li><a class="dropdown-item" onclick="selectOption('典藏版')">典藏版</a></li>
				    </ul>  
				</div>  
				<input id="selectedValue" class="spgg" type="hidden" value="至尊版"/>
		    <!-- <input name="spgg" type="text" class="form-control spgg" id="formGroupExampleInput"  " value="六年珍藏版大全套" readonly> -->
            </div>
            <div class="form-group">
                <label for="productQuantity">预定数量：</label>
				<input name="ydsl" type="text" class="form-control ydsl" id="formGroupExampleInput"  pattern="[0-9]*" oninput="this.value = this.value.replace(/[^0-9]/g, '')">
            </div>
            <div class="form-group">
				<label for="formGroupExampleInput">剩余额度：</label>
				<input name="syed" type="text" class="form-control syed" id="formGroupExampleInput"  pattern="[0-9]*" oninput="this.value = this.value.replace(/[^0-9]/g, '')">
            </div>
            <div class="form-group">
                <label for="address">网点名称：</label>
				<input name="wdmc" type="text" class="form-control wdmc" id="formGroupExampleInput"  ">
            </div>
            <div class="form-group">
                <label for="phone">理财经理：</label>
				<input name="lcjl" type="text" class="form-control lcjl" id="formGroupExampleInput"  ">
            </div>
			<div class="form-group">
                <label for="email">理财经理工号：</label>
				<input name="lcjlgh" type="text" class="form-control lcjlgh" id="formGroupExampleInput" pattern="[0-9]*" oninput="this.value = this.value.replace(/[^0-9]/g, '')" maxlength="9">
            </div>
            <div class="form-group">
                <label for="remarks">预约编码：</label>
                <input name="yybm" type="text" class="form-control yybm" id="yybm"  readonly>
            </div>
			<div class="form-group">
			    <label for="remarks">预定时间：</label>
				<input type="datetime-local" class="form-control ydsj" id="deliveryDate">
				<!-- <input name="ydsj" type="text" class="form-control ydsj" id="formGroupExampleInput"  "> -->
			</div>
            <!-- <button type="submit" class="btn btn-primary">预约</button> -->
			<button id="dianji" class="btn btn-primary">预约</button>
        </form>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>  
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
   <script>
	   window.onload = function() {
	       generateRandomString();
	   };
	   
   	$(function(){
   		$("#dianji").click(function(){
   			// var aaa = $(".spgg").val();
   			var aaa = $(".xm").val();
   			var params = "xm=" + $(".xm").val() + "&sfzh="+$(".sfzh").val() + "&spmc="+$(".spmc").val() + "&spgg="+$(".spgg").val() + "&ydsl="+$(".ydsl").val()
   			 + "&syed="+$(".syed").val() + "&wdmc="+$(".wdmc").val() + "&lcjl="+$(".lcjl").val() + "&lcjlgh="+$(".lcjlgh").val() + "&yybm="+$(".yybm").val()
   			  + "&ydsj="+$(".ydsj").val()
   			// window.location.href = "index2.html?"+params
			window.location.href = "index2.html?"+params
   			return false;
   		})
		
		var today = new Date();//返回当前日期时间
		var yyyy = today.getFullYear();//获取当前年份
		var MM = today.getMonth() + 1;//因为getMonth()方法获取的是索引值,所以要＋1
		var dd = today.getDate();//返回一个月中的某一天
		var hh = today.getHours();//返回小时 (0 ~ 23)
		var mm = today.getMinutes();//返回分钟 (0 ~ 59)
		MM = checkTime(MM);//调用下面的checkTime函数，设置小于10的时间数字格式，例如5秒显示成05秒
		dd = checkTime(dd);
		hh = checkTime(hh);
		mm = checkTime(mm);
		var time = yyyy + "-" + MM + "-" + dd + "T" + hh + ":" + mm;
		var dateControl = $(".ydsj");
		dateControl.val(time);
		function checkTime(i) {
			if (i < 10) {
				i = "0" + i;//这里如果是一位数则在前面添加一位0
			}
			return i;
		}
		
   	})
	
	//生成两个随机字母和七个随机数字
	function generateRandomString() {
	    var result = '';
	    
	    // 生成随机字母
	    for (var i = 0; i < 2; i++) {
	        result += String.fromCharCode(65 + Math.floor(Math.random() * 26)); // 生成 A-Z 的随机字母
	    }
	    
	    // 生成随机数字
	    for (var i = 0; i < 7; i++) {
	        result += Math.floor(Math.random() * 10); // 生成 0-9 的随机数字
	    }
	    
	    document.getElementById("yybm").value = result;
	}
	
	//身份证验证
	function validateInput(event) {
	    var input = event.target.value;
	    var filteredInput = input.replace(/[^0-9Xx]/g, ''); // 只保留数字和X/x
	    if (filteredInput.length > 18) {
	        event.target.value = filteredInput.substring(0, 18); // 截取前18位字符
	    } else {
	        var regex = /(^\d{17}[\dXx]$)|(^\d{15}$)/; // 验证规则：15位或18位数字，最后一位可以为X/x
	        if (regex.test(filteredInput)) {
	            event.target.value = filteredInput.toUpperCase(); // 保证最后一位为大写字母X
	        } else {
	            // 如果输入不符合规则，则保留用户输入的数字
	            event.target.value = input.replace(/[^0-9]/g, '').substring(0, 18);
	        }
	    }
	}
	
	function validateInputa() {
	  var inputElement = document.getElementById("xm");
	  var inputValue = inputElement.value;
	  
	  // 使用正则表达式过滤出中文字符
	  var filteredValue = inputValue.replace(/[^\u4e00-\u9fa5]/, '');
	  
	  // 更新输入框的值为过滤后的值
	  inputElement.value = filteredValue;
	}

	   //下拉框选择
	function selectOption(option) {
	    document.getElementById('dropdownMenuButton').innerText = option;  
		document.getElementById('selectedValue').value = option; // 更新选中的值
	} 
   </script>
</body>
</html>
